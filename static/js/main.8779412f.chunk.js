(this["webpackJsonpbus-routes-simple"]=this["webpackJsonpbus-routes-simple"]||[]).push([[0],{37:function(e){e.exports=JSON.parse('{"pysakit":["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R"],"tiet":[{"mista":"A","mihin":"B","kesto":3},{"mista":"B","mihin":"D","kesto":2},{"mista":"D","mihin":"A","kesto":1},{"mista":"A","mihin":"C","kesto":1},{"mista":"C","mihin":"D","kesto":5},{"mista":"C","mihin":"E","kesto":2},{"mista":"E","mihin":"D","kesto":3},{"mista":"E","mihin":"F","kesto":1},{"mista":"F","mihin":"G","kesto":1},{"mista":"G","mihin":"H","kesto":2},{"mista":"H","mihin":"I","kesto":2},{"mista":"I","mihin":"J","kesto":1},{"mista":"I","mihin":"G","kesto":1},{"mista":"G","mihin":"K","kesto":8},{"mista":"K","mihin":"L","kesto":1},{"mista":"L","mihin":"M","kesto":1},{"mista":"E","mihin":"M","kesto":10},{"mista":"M","mihin":"N","kesto":2},{"mista":"N","mihin":"O","kesto":2},{"mista":"O","mihin":"P","kesto":2},{"mista":"O","mihin":"Q","kesto":1},{"mista":"P","mihin":"Q","kesto":2},{"mista":"N","mihin":"Q","kesto":1},{"mista":"Q","mihin":"R","kesto":5},{"mista":"R","mihin":"N","kesto":3},{"mista":"D","mihin":"R","kesto":6}],"linjastot":{"keltainen":["E","F","G","K","L","M","N"],"punainen":["C","D","R","Q","N","O","P"],"vihre\xe4":["D","B","A","C","E","F","G","H","I","J"],"sininen":["D","E","M","N","O"]}}')},46:function(e,t){},70:function(e,t,n){e.exports=n(81)},81:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(11),o=n.n(r),c=n(24),s=n(122),l=n(123),u=n(124),m=n(119),p=n(125),d=n(127),f=n(83),h=n(121),g=n(130),v=n(126),E=n(131),k=n(128);function b(e){return i.a.createElement(k.a,{autoComplete:!0,autoSelect:!0,autoHighlight:!0,options:e.options,value:e.selected,onChange:function(t,n){return e.onSelect(n)},renderInput:function(t){return i.a.createElement(v.a,Object.assign({},t,{autoFocus:e.autofocus,label:e.label,variant:"outlined"}))}})}var O=function(e){return i.a.createElement(m.a,{variant:"h4",component:"span",align:"center"},e.children)},x=n(60),j=n.n(x),w=n(120),y=Object(w.a)((function(e){return{legsRoot:{minHeight:100,padding:"1em .7em .5em",overflow:"hidden",borderTop:"1px solid #ddd",display:"flex",whiteSpace:"nowrap",position:"relative"},lineLabel:{textTransform:"uppercase",color:e.palette.grey[600],overflowX:"hidden"},legStart:{position:"absolute",top:20,left:-8},legEnd:{position:"absolute",top:20,right:12},legGraph:{position:"relative",padding:"2px 40px 0 20px"}}})),N=Object(w.a)((function(e){return{legRoot:{margin:1,maxWidth:"100%"},legLine:function(t){return{position:"relative",height:20,marginTop:e.spacing(1),marginBottom:e.spacing(1),backgroundColor:e.palette[t.color].main}},legIcon:function(t){return{position:"absolute",fontSize:"2em",left:6,top:-4,backgroundColor:"rgba(255, 255, 255, 0.9)",borderWidth:1,borderStyle:"solid",borderColor:e.palette[t.color].main,borderRadius:3}},lineLabel:{textTransform:"uppercase",color:e.palette.grey[600],overflowX:"hidden",maxWidth:"100%",textOverflow:"ellipsis"}}}));function S(e){var t=function(e){switch(e){case"vihre\xe4":return"success";case"punainen":return"error";case"keltainen":return"warning";case"sininen":default:return"primary"}}(e.line),n=N({color:t});return i.a.createElement(h.a,{container:!0,direction:"column"},i.a.createElement(h.a,{item:!0,container:!0,className:n.lineLabel},"".concat(e.stops,": ").concat(e.duration)),i.a.createElement(h.a,{className:n.legRoot,item:!0},i.a.createElement(d.a,{color:"".concat(t,".main")},i.a.createElement("div",{className:n.legLine},i.a.createElement(j.a,{className:n.legIcon})))),i.a.createElement(h.a,{className:n.lineLabel,item:!0},e.line))}function F(e){var t=y(),n=e.legs,a=e.duration,r=Math.floor(12/n.length);return i.a.createElement(d.a,{color:"primary.main"},i.a.createElement(h.a,{container:!0,spacing:1,className:t.legsRoot},i.a.createElement(h.a,{item:!0,xs:10},i.a.createElement("div",{className:t.legGraph},i.a.createElement("div",{className:t.legStart},i.a.createElement(O,null,n[0].stops[0])),i.a.createElement(h.a,{container:!0},n.map((function(e){return i.a.createElement(h.a,{key:e.stops,item:!0,xs:r},i.a.createElement(S,e))}))),i.a.createElement("div",{className:t.legEnd},i.a.createElement(O,null,n[n.length-1].stops.slice(-1))))),i.a.createElement(h.a,{item:!0,xs:2},i.a.createElement("div",{className:t.lineLabel},"Kesto"),i.a.createElement(O,null,a))))}var C=n(34),L=n(37),R=function(e){return e.reduce((function(e,t){return Math.min(e,t.duration)}),1/0)},D=function(e){var t=Object(C.a)(new Set(e));return e.length!==t.length};function I(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.reduce((function(e,t){return e.sort(t),e}),e.slice())}var A,B,G,M=(A=L.tiet,function(e){return A.filter((function(t){return-1!==[t.mista,t.mihin].indexOf(e)})).map((function(t){return{place:t.mista===e?t.mihin:t.mista,duration:t.kesto}}))}),W=(B=Object.values(L.linjastot),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.join();return B.reduce((function(e,t){return e||-1!==t.join().indexOf(a)||-1!==t.reverse().join().indexOf(a)}),!1)}),H=function(e,t){return e.reduce((function(e,t){var n=t.places.slice(-1).pop(),a=t.places.slice(-2,-1).pop();return e.concat(M(n).filter((function(e){return e.place!==a})).filter((function(e){return W(n,e.place)})).map((function(e){return{places:t.places.concat(e.place),duration:t.duration+e.duration,durations:t.durations.concat(e.duration)}})))}),[]).filter((function(e){return e.duration<t})).filter((function(e){return!D(e.places)})).reduce((function(e,t){var n=t.places.slice(-1).pop(),a=e.findIndex((function(e){return e.places.slice(-1).pop()===n}));return-1!==a?(e[a].duration>t.duration&&(e[a]=t),e):e.concat(t)}),[])},J=function(e,t){return e.reduce((function(e,n){var a=n.places.slice(-1).pop(),i=t.find((function(e){return e.places.slice(-1).pop()===a}));if(!i)return e;var r=n.places.concat(i.places.slice(0,-1).reverse());return D(r)?e:e.concat({places:r,durations:n.durations.concat(i.durations.slice().reverse()),duration:i.duration+n.duration})}),[])},Q=function(e){var t=Object.entries(e).map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return{key:n,lineForward:a.join(),lineBackward:a.slice().reverse().join()}}));return function(e,n){return(a=e,Array(a.length-1).fill("").map((function(e,t){return a.slice(t,t+2).join()}))).map((function(e,a){return{stops:e,duration:n[a],lines:t.reduce((function(t,n){var a=n.key,i=n.lineForward,r=n.lineBackward;return-1!==i.indexOf(e)||-1!==r.indexOf(e)?t.concat(a):t}),[])}}));var a}}(L.linjastot),K=function(e,t){return function(e,t){var n=[{places:[e],durations:[],duration:0}],a=[{places:[t],durations:[],duration:0}],i=[];i.push.apply(i,Object(C.a)(J(n,a)));var r=function(){n=H(n,R(i)),i.push.apply(i,Object(C.a)(J(n,a))),a=H(a,R(i)),i.push.apply(i,Object(C.a)(J(n,a)));var e=R(i),t=R(a);n=n.filter((function(n){return n.duration<e-t}));var r=R(n);a=a.filter((function(t){return t.duration<e-r}))};do{r()}while(n.length>0&&a.length>0);return i}(e,t).map((function(e){var t,n=e.duration,a=e.places,i=e.durations;return{duration:n,legs:(t=Q(a,i),t.slice(1).reduce((function(e,t){var n,a,i=e.slice(-1).pop(),r=(n=i.lines,a=t.lines,n.filter((function(e){return-1!==a.indexOf(e)})));return r.length>0?(e[e.length-1]={stops:"".concat(i.stops).concat(t.stops.substring(1)),duration:i.duration+t.duration,lines:r},e):e.concat(t)}),t.slice(0,1)).map((function(e){return{stops:e.stops,duration:e.duration,line:e.lines[0]}})))}}))},P=function(e,t){return e.duration<t.duration?-1:1},T=function(e,t){return e.legs.length<t.legs.length?-1:1},X=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return I(K(e,t),T,P).slice(0,n)},z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return I(K(e,t),P,T).slice(0,n)};n(46);!function(e){e[e.Fastest=0]="Fastest",e[e.Easiest=1]="Easiest"}(G||(G={}));function V(){var e=i.a.useState(null),t=Object(c.a)(e,2),n=t[0],a=t[1],r=i.a.useState(null),o=Object(c.a)(r,2),k=o[0],O=o[1],x=i.a.useState([]),j=Object(c.a)(x,2),w=j[0],y=j[1],N=i.a.useState(G.Fastest),S=Object(c.a)(N,2),C=S[0],R=S[1],D=i.a.useState([]),I=Object(c.a)(D,2),A=I[0],B=I[1];return i.a.useEffect((function(){if(n&&k&&n!==k){var e=C===G.Easiest?z:X;y(e(n,k,3))}}),[n,k,C]),i.a.useEffect((function(){B(L.pysakit)}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a,null),i.a.createElement(l.a,{position:"static"},i.a.createElement(u.a,null,i.a.createElement(m.a,{variant:"h6"},"Reittiopas"))),i.a.createElement(p.a,{maxWidth:"lg"},i.a.createElement(d.a,{mx:-2,mt:1},i.a.createElement(f.a,{elevation:3},i.a.createElement(d.a,{padding:2},i.a.createElement(h.a,{container:!0,spacing:2},i.a.createElement(h.a,{item:!0,xs:12,sm:4},i.a.createElement(b,{label:"Alkupys\xe4kki",options:A,selected:n,onSelect:a,autofocus:!0})),i.a.createElement(h.a,{item:!0,xs:12,sm:4},i.a.createElement(b,{label:"Loppupys\xe4kki",options:A,selected:k,onSelect:O})),i.a.createElement(g.a,{xsDown:!0},i.a.createElement(h.a,{item:!0,sm:4},i.a.createElement(v.a,{select:!0,fullWidth:!0,variant:"outlined",value:C,onChange:function(e){R(+e.target.value)}},i.a.createElement(E.a,{value:G.Fastest},"Nopein"),i.a.createElement(E.a,{value:G.Easiest},"V\xe4hiten vaihtoja")))))),i.a.createElement(d.a,{padding:2},w.map((function(e){return i.a.createElement(F,{key:(t=e,t.legs.reduce((function(e,t){return"".concat(e,",").concat(t.stops)}),"")),duration:e.duration,legs:e.legs});var t})))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[70,1,2]]]);
//# sourceMappingURL=main.8779412f.chunk.js.map